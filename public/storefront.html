<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
    <title>GymGym| Home</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <nav>
        <a href="storefront.html" class="logo-link">
            <h2 class ="logo">GYMGYM</h2>
        </a>
        <ul>
            <li><a href="storefront.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="faq.html">FAQ</a></li>
            <li><a href="cart.html">Shopping Cart</a></li>
            <li><a href="login.html" id="loginBtn">Sign Up/Login</a></li>
        </ul>
    </nav>
</header>

<div class="storefront-layout">
<div class="leftMenu">
    <aside class="sidebar">
            <ul>
                <li><a href="products/mansclothing.html">Men's Clothing</a></li>
                <li><a href="products/womensclothing.html">Women's Clothing</a></li>
                <li><a href="products/gymequipment.html">Gym Equipment</a></li>
                <li><a href="products/supplements.html">Supplements</a></li>
            </ul>
        </aside>
</div>
<div class="main1">
    <section class="hero-section">
    <div class="logo-section">
        <img src="images/gymlogo.png" alt="GymGym Logo" class="logo-img">
        <div class="search-container">
            <form id="searchForm">
          <input
           type="text"
           id="searchInput"
           placeholder="Search for product"
           class="search-bar"/>
        <button type="submit">Search</button>
          </form>
        </div>
    </div>
    <section id="search-results"></section>
</section>
</div>        

</div>
<section class="product-section">
    <div class="product-grid">
      <div class="product">
          <h3>Gym Equipment</h3>
          <a href="products/gymequipment.html">
          <img src="images/hammerRack.webp" alt="Gym Equipment"></a>
      </div>
      <div class="product">
          <h3>Men's Clothing</h3>
          <a href="products/mansclothing.html">
          <img src="images/mensclothing.png" alt="Men's Clothing"></a>
      </div>
      <div class="product">
          <h3>Women's Clothing</h3>
          <a href="products/womensclothing.html">
          <img src="images/womensclothing.png" alt="Women's Clothing"></a>
      </div>
      <div class="product">
          <h3>Supplements</h3>
          <a href="products/supplements.html">
          <img src="images/supplements.png" alt="Supplements"></a>
      </div>
  </div>
</section>

<section class="best-seller">
  <h3>Best Sellers</h3>
  <div class="slider-frame">
    <div id="bestSellerTrack" class="slider-track"></div>
  </div>
</section>






<script>
document.addEventListener("DOMContentLoaded", () => {
  const searchForm = document.getElementById("searchForm");
  const searchInput = document.getElementById("searchInput");
  const resultsDiv = document.getElementById("search-results");

  if (!searchForm) return;

  searchForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const query = searchInput.value.trim();
    if (!query) return;

    try {
      const res = await fetch(`/api/search?q=${encodeURIComponent(query)}`);
      const data = await res.json();

      if (!data.products.length) {
        resultsDiv.innerHTML = "<p>No products found.</p>";
        return;
      }

      resultsDiv.innerHTML = data.products
        .map(
          (p) => `
            <div class="product-card">
              <a href="product.html?id=${p.id}">
                <img src="${p.image_paths[0]}" alt="${p.name}">
                <h3>${p.name}</h3>
                <p>$${p.price}</p>
              </a>
            </div>`
        )
        .join("");
    } catch (err) {
      console.error("Search failed:", err);
      resultsDiv.innerHTML = "<p>Something went wrong. Please try again.</p>";
    }
  });
});
</script>
<script src="script.js"></script>
    <footer>
        <p>© 2025 GYMGYM — All Rights Reserved</p>
      </footer>
</body>
</html>